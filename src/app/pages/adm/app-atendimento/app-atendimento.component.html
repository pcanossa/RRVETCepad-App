<div class="body-animal-page d-flex flex-wrap">
  <app-adm-navbar class="nav-menu"></app-adm-navbar>
  <div class="animais d-flex flex-column align-items-center" >
    <app-header></app-header>
    <div class="animais d-flex flex-column align-items-center" >
      <div class="infos d-flex align-items-start justify-content-evenly">
        <div class="info-animal d-flex flex-column">
          <div class="cab-info-animal d-flex align-items-center justify-content-start" >
            <img [src]="atdDates.ani_urlfoto" alt="" class="foto-animal">
            <h1>{{atdDates[0].ani_nome}}</h1>
          </div>
          <div class="d-flex flex-column align-items-start justify-content-center">
            <h6>Espécia: {{atdDates[0].ani_especie}}</h6>
            <h6>Idade: {{calcIdade(atdDates[0].ani_nascimento)}}</h6>
            <h6>Raça: {{atdDates[0].ani_raca}}</h6>
            <h6>Cor: {{atdDates[0].ani_cor}}</h6>
            <h6>RGA: {{atdDates[0].ani_rga}}</h6>
            <h6 *ngIf="atdDates[0].ani_particularidades != undefined || atdDates[0].ani_particularidades != null">Particularidades: {{atdDates[0].ani_particularidades}}</h6>
          </div>
        </div>
        <div class="tutor flex-column align-items-start justify-content-center">
          <h1>{{atdDates[0].tut_nome}}</h1>
          <h6>Telefone: {{formatarTelefone(atdDates[0].tut_telefone)}}</h6>
          <h6>Endereço: {{atdDates[0].tut_rua}}, {{atdDates[0].tut_numero}} - {{atdDates[0].tut_bairro}}</h6>
          <h6>{{atdDates[0].tut_cidade}}</h6>
          <h6>Tipo: {{atdDates[0].tut_tipo}}</h6>
        </div>
      </div>
      <div class="carteira-virtual d-flex flex-column align-items-center">
        <hr><br>
        <h1>Atendimentos</h1>
        <button type="button" class="btn btn-primary" (click)="mostraAtendimentos();">Ver Atendimentos Anteriores</button>
          <div *ngIf="atendimentos && atendimentos.length > 0 && btnAtd" class="overflow-scroll">
            <div class="drop-itens d-flex flex-column justify-content-center">
              <div class="accordion accordion-flush" id="accordionFlushExample">
                <div class="accordion-item" *ngFor="let atendimento of atendimentos; let i = index">
                  <h2 class="accordion-header" [attr.id]="'flush-heading' + i">
                    <button class="accordion-button collapsed" [id]="atendimento.atd_tipo" type="button" data-bs-toggle="collapse" [attr.data-bs-target]="'#flush-collapse' + i" aria-expanded="false" [attr.aria-controls]="'flush-collapse' + i" (click)="getAnexos(atendimento.atd_id); getResponsavel(atendimento.agd_veterinario_vet_id)">
                      <h4><i class="fa-solid fa-stethoscope"></i></h4>
                      <h4>ATENDIMENTO {{formatDate(atendimento.atd_data)}}</h4>
                    </button>
                  </h2>
                  <div [attr.id]="'flush-collapse' + i" class="accordion-collapse collapse" [attr.aria-labelledby]="'flush-heading' + i" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                      <div href="/app-novoCliente" class="item-menu d-flex flex-row">
                        <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-user-doctor"></i> MV Responsável: Dr. {{vetResp}}</h5>
                      </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row" style="text-align: center;">
                      <h4>Suspeitas Diagnósticas: </h4>
                        <h5 *ngFor="let suspeita of anexos.suspeitas" class="suspeitas">{{suspeita.dnc_doenca}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row" style="text-align: center;">
                      <h4><b style="color:rgb(243, 98, 1)">Tipo de Atendimento: {{atendimento.atd_tipo}}</b> </h4>
                        <h5 *ngIf="atendimento.atd_retorno != '' ">{{atendimento.atd_retorno}}</h5>
                    </div>
                    <div></div>
                    <div href="/incluirAnimal" class="session item-menu d-flex flex-row">
                      <h4 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-notes-medical"></i> Parâmetros Observados</h4>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Peso:</b> {{atendimento.atd_peso}} Kg</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Temperatura:</b> {{atendimento.atd_temperatura}} ºC</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Mucosas:</b> {{atendimento.atd_mucosas}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Linfonodos:</b> {{atendimento.atd_linfonodos}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>FC:</b> {{atendimento.atd_fc}} BPM</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>FR:</b> {{atendimento.atd_fr}} MPM</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sons Respiratórios:</b> {{atendimento.atd_respiracao}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sons Cardíacos:</b> {{atendimento.atd_cardiaco}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Pressão Arterial:</b> {{atendimento.atd_pa}} </h5>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-row">
                      <h4 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-staff-snake"></i> Anamnese </h4>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Ambiente:</b> {{atendimento.atd_anambiente}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Ingestão Hídrica:</b> {{atendimento.atd_aningestaoh}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Alimentação:</b> {{atendimento.atd_analimentacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Suplementação:</b> {{atendimento.atd_ansuplementacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Peso Corporal:</b> {{atendimento.atd_anpeso}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Vacinação:</b> {{atendimento.atd_anvacinacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Vermifugação:</b> {{atendimento.atd_anvermifugacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Ectoparasiticida:</b> {{atendimento.atd_anectoparasiticida}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Castração:</b> {{atendimento.atd_ancastracao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Diurese:</b> {{atendimento.atd_andiurese}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Defecção:</b> {{atendimento.atd_andefeccao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Parasitos:</b> {{atendimento.atd_anparasitos}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Prurido:</b> {{atendimento.atd_anprurido}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Vômito:</b> {{atendimento.atd_anvomito}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Regurgitação:</b> {{atendimento.atd_anregurgitacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Comportamento:</b> {{atendimento.atd_ancomportamento}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sono:</b> {{atendimento.atd_ansono}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Vocalização:</b> {{atendimento.atd_anvocalizacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Incoordenação:</b> {{atendimento.atd_anincoordenacao}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Crise Epilética:</b> {{atendimento.atd_anepilepsia}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Síncope:</b> {{atendimento.atd_ansincope}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Tosse:</b> {{atendimento.atd_antosse}}</h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Lambedura:</b> {{atendimento.atd_anlambedura}}</h5>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-row">
                      <h4 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-staff-snake"></i> Exame Físico </h4>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Respiratório:</b> {{atendimento.exf_respiratorio}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Cardiovascular:</b> {{atendimento.exf_cardiovascular}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Gastrointestinal:</b> {{atendimento.exf_gastrointestinal}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Endócrino:</b> {{atendimento.exf_endocrino}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Urinário:</b> {{atendimento.exf_urinario}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Reprodutor:</b> {{atendimento.exf_reprodutivo}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Sistema Respiratório:</b> {{atendimento.exf_respiratorio}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Dermatológico:</b> {{atendimento.exf_dermatologico}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Oftálmico:</b> {{atendimento.exf_oftalmico}} </h5>
                    </div>
                    <div href="/buscarCliente" class="item-menu d-flex flex-row">
                      <h5><b>Ondontológico:</b> {{atendimento.exf_ondontologico}}</h5>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-column">
                      <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-syringe"></i> Aplicações</h5>
                      <div class="" *ngFor="let aplicacao of anexos.aplicacoes;">
                      <div class="exames d-flex flex-column justify-content-start align-items-start">
                        <h5 style="color:rgb(206, 126, 72)"><b style="color:rgb(206, 126, 72)">Medicação:</b> {{aplicacao.med_nome}} </h5>
                        <h5><b>Apresentação:</b> {{aplicacao.med_apresentacao}}</h5>
                        <h5><b>Concentração:</b> {{aplicacao.med_concentracao}}</h5>
                        <h5><b>Dose:</b> {{aplicacao.apl_dose}} </h5>
                        <h5><b>Via:</b> {{aplicacao.apl_tipo}}</h5>
                      </div>
                    </div>
                    <div *ngIf="anexos.aplicacoes.length === 0">
                      <h5>Nenhuma aplicação realizada</h5>
                    </div>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-column">
                      <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-pills"></i> Receituário</h5>
                      <div *ngFor="let aplicacao of anexos.receita">
                        <div class="exames d-flex flex-column justify-content-start align-items-start">
                          <h5 style="color:rgb(206, 126, 72)"><b style="color:rgb(206, 126, 72)">Medicação:</b> {{aplicacao.med_nome}}</h5>
                          <h5 style=><b>Dose:</b> {{aplicacao.rec_dose}} </h5>
                          <h5 style=><b>Concentração:</b> {{aplicacao.med_concentracao}}</h5>
                          <h5 style=><b>Duração:</b> {{aplicacao.rec_duracao}}</h5>
                          <h5 style=><b>Via:</b> {{aplicacao.rec_tipo}}</h5>
                        </div>
                    </div>
                    <div *ngIf="anexos.receita.length === 0">
                      <h5>Nenhum receituário emitido realizada</h5>
                    </div>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-column">
                      <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-vial-circle-check"></i> Exames Solicitados</h5>
                      <div *ngFor="let exame of anexos.exames">
                      <div class="exames d-flex flex-column justify-content-start align-items-start">
                          <h5 style="color:rgb(206, 126, 72)">Exame: {{exame.exm_exame}}</h5>
                          <h5>Data de Solicitação: {{formatDate(exame.pex_data)}}</h5>
                          <h5 *ngIf="exame.pex_realizacao != null">Realização: {{exame.pex_realizacao}}</h5>
                          <h5 *ngIf="exame.pex_realizacao === null">Realização: Exame ainda não realizado</h5>
                          <h5>Laudo: {{exame.pex_laudo}}</h5>
                      </div>
                    </div>
                    <div *ngIf="anexos.exames.length == 0">
                      <h5>Nenhum exame solicitado</h5>
                    </div>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-column">
                      <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-heart-pulse"></i> Encaminhamento Cirúrgico</h5>
                      <div *ngFor="let cirurgias of anexos.cirurgias">
                      <div class="exames d-flex flex-column justify-content-start align-items-start">
                          <h5><b style="color:rgb(206, 126, 72)">Cirurgia:</b> {{cirurgias.cir_cirurgia}}</h5>
                          <h5 *ngIf="cirurgias.enc_realizaca != null">Realização: {{cirurgias.enc_realizaca}}</h5>
                          <h5 *ngIf="cirurgias.enc_realizaca === null">Realização: Cirurgia ainda não realizado</h5>
                          <h5 *ngIf="cirurgias.enc_agendamento != null">Agendamento: {{cirurgias.enc_agendamento}}</h5>
                          <h5 *ngIf="cirurgias.enc_agendamento === null">Cirurgia ainda não realizado</h5>
                      </div>
                    </div>
                    <div *ngIf="anexos.cirurgias.length === 0">
                      <h5>Nenhuma encaminhamento cirúrgico solicitado</h5>
                    </div>
                    </div>
                    <div href="/buscarCliente" class="session item-menu d-flex flex-column">
                      <h5 style="color: rgb(201, 80, 0);"><i class="fa-solid fa-hand-holding-medical"></i> Encaminhamentos</h5>
                      <div *ngFor="let encaminhamento of anexos.especialidades">
                      <div class="exames d-flex flex-column justify-content-start align-items-start">
                          <h5><b style="color:rgb(206, 126, 72)">Especialidade:</b> {{encaminhamento.ece_especialidade}}</h5>
                      </div>
                    </div>
                    <div *ngIf="anexos.especialidades.length === 0">
                      <h5>Nenhum encaminhamento solicitado</h5>
                    </div>
                    </div>
                  </div>
                </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
    <form class="sessao d-flex flex-column align-items-center justify-content-center" [formGroup]="parametros">
      <h2>Parâmetros no Animal</h2>
      <div class="d-flex align-items-center justify-content-evenly">
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">Peso</span>
          <input type="text" class="form-control" placeholder="Kg" aria-label="Username" aria-describedby="basic-addon1" formControlName="peso">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">FC</span>
          <input type="text" class="form-control" placeholder="BPM" aria-label="Username" aria-describedby="basic-addon1" formControlName="bpm">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">FR</span>
          <input type="text" class="form-control" placeholder="MPM" aria-label="Username" aria-describedby="basic-addon1" formControlName="mpm">
        </div>
        <div class="input-group mb-3">
          <span class="input-group-text" id="basic-addon1">TºC</span>
          <input type="text" class="form-control" placeholder="ºC" aria-label="Username" aria-describedby="basic-addon1" formControlName="temperatura">
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-evenly">
        <mat-form-field>
          <mat-label>Mucosas</mat-label>
          <mat-select formControlName="mucosas">
            <mat-option *ngFor="let mucosa of mucosas" [value]="mucosa">
              {{mucosa}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="d-flex align-items-center justify-content-evenly flex-wrap">
        <div class="form-floating" *ngFor="let linfonodo of linfonodos | keyvalue">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" [formControlName]="linfonodo.key">
            <option *ngFor="let estado of linfEstado" [value]="estado">{{estado}}</option>
          </select>
          <label for="floatingSelect">Linf. {{linfonodo.value}}</label>
        </div>
      </div>
      <div class="d-flex align-items-center justify-content-evenly flex-wrap">
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="ausResp">
            <option *ngFor="let som of sonsRespiratorios" [value]="som">{{som}}</option>
          </select>
          <label for="floatingSelect">Ausculta Respiratória</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="ausCard">
            <option *ngFor="let som of sonsCardiacos" [value]="som">{{som}}</option>
          </select>
          <label for="floatingSelect">Ausculta Cardíaca</label>
        </div>
      </div>
    </form>
    <form class="d-flex align-items-center justify-content-evenly " [formGroup]="oParametros">
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1">TPC</span>
        <input type="text" class="form-control" placeholder="segundos" aria-label="segundos" aria-describedby="basic-addon1" formControlName="tpc">
      </div>
      <div class="input-group mb-3">
        <span class="input-group-text" id="basic-addon1">P.A.</span>
        <input type="text" class="form-control" placeholder="mmHg" aria-label="seg" aria-describedby="basic-addon1" formControlName="pa">
      </div>
    </form>
    <form class="sec d-flex flex-column align-items-center justify-content-center" [formGroup]="tipoAtendimento">
      <div class="sessao d-flex  flex-column align-items-center justify-content-evenly flex-wrap">
        <h1>Tipo Atendimento</h1>
        <mat-button-toggle-group name="fontStyle" aria-label="Font Style" (change)="onToggleChange($event)" formControlName="tipo">
          <mat-button-toggle value="Consulta">Consulta</mat-button-toggle>
          <mat-button-toggle value="Retorno">Retorno</mat-button-toggle>
          <mat-button-toggle value="Exame">Exame</mat-button-toggle>
          <mat-button-toggle value="Especialidade">Especialidade</mat-button-toggle>
        </mat-button-toggle-group>
        <div *ngIf="tipoAtendimento.value.tipo == 'Especialidade'">
          <label for="sexo">Selecione a Especialidade*</label>
          <select  class="form-select form-select-lg"  name="unidade" id="unidade" aria-label=".form-select-lg example" formControlName="especialidade" required>
            <option  *ngFor="let esp of especialidade" [value]="esp.esp_id">{{esp.esp_nome}}</option>
          </select>
        </div>
        <div class="form-floating" *ngIf="tipoAtendimento.value?.tipo === 'Retorno' || tipoAtendimento.value?.tipo === 'Exame'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="evolucao">
            <option value="melhora">Melhora do Quadro</option>
            <option value="piora">Piora do Quadro</option>
            <option value="igual">Quadro se mantem igual</option>
          </select>

        </div>
        <div class="mb-2" *ngIf="tipoAtendimento.value?.tipo === 'Retorno' || tipoAtendimento.value?.tipo === 'Exame'" >
          <label for="exampleFormControlTextarea1" class="form-label" >Detalhes sobre Evolução Clínica</label>
          <h4>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" cols="50" style="font-size: large;" formControlName="detalhes" (click)="consultaRet();"></textarea>
        </h4>
        </div>
      </div>
    </form>
    <form class="sec d-flex flex-column align-items-center justify-content-center" [formGroup]="anamnese">
      <div class="sessao d-flex  flex-column align-items-center justify-content-evenly flex-wrap">
        <h2>Anamnese</h2>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="ambiente">
            <option *ngFor="let opcao of anm_ambiente" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Tipo de Ambiente Mantido</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="ingHidrica">
            <option *ngFor="let opcao of anm_hidrica" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Ingestão Hídricao</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="tipoAgua">
            <option *ngFor="let opcao of anm_agua" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Tipo de Água Ofertada</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="diurese">
            <option *ngFor="let opcao of anm_diurese" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Diurese</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="aspectoUrina">
            <option *ngFor="let opcao of anm_aspecto_urina" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Aspecto Urina</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqMiccao">
            <option *ngFor="let opcao of anr_frequencia_racao" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência de Micção</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="pesoCorporal">
            <option *ngFor="let opcao of anm_peso_corporal" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Manutenção de Peso Corporal</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="escoreCorporal">
            <option *ngFor="let opcao of anm_escore_corporal" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Escore Corporal</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="prurido">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Prurido</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.prurido === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqPrurido">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Prurido</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.prurido === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioPrurido">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Prurido</label>
        </div>
        <div class="d-flex align-items-center justify-content-center"  *ngIf="anamnese.value?.prurido === 'presente'">
          <mat-form-field class="example-full-width">
            <mat-label>Local(ais) de Prurido </mat-label>
            <input matInput placeholder="Ex. Interdigital" formControlName="localPrurido">
          </mat-form-field>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="vomito">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Vômito</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.vomito === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqVomito">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Vômito</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.vomito === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioVomito">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Vômito</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="regurgitacao">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Regurgitação</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.regurgitacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqRegurgitacao">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Regurgitaçaõ</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.regurgitacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioRegurgitacao">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Regurgitação</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="comportamento">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Mudança de Comportamento</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.comportamento === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="tipoComportamento">
            <option *ngFor="let opcao of anm_comportamento" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Tipo de Mudança</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.comportamento === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioComportamento">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início de Mudança de Comportamento</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="sono">
            <option *ngFor="let opcao of anm_sono" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Sono</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="vocalizacao">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Vocalização</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.vocalizacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="periodoVocalizacao">
            <option *ngFor="let opcao of anm_periodos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Período de Vocalização</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.vocalizacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioVocalizacao">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início de Vocalização</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="incoordenacao">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Incoordenação</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.incoordenacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqIncoordenacao">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Incoordenação</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.incoordenacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioIncoordenacao">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Incoordenação</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.incoordenacao === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="momentoIncoordenacao">
            <option *ngFor="let opcao of anm_momentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Momento Incoordenação</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="sincope">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Síncope</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.sincope === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqSincope">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Síncope</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.sincope === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioSincope">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Síncope</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.sincope === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="momentoSincope">
            <option *ngFor="let opcao of anm_momentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Momento Síncope</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="tosse">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Tosse</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.tosse === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqTosse">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Tosse</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.tosse === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioTosse">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Tosse</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.tosse === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="momentoTosse">
            <option *ngFor="let opcao of anm_momentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Momento Tosse</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="crise">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Crise Epilética</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.crise === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqCrise">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Crises</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.crise === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioCrise">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Crises</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.crise === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="momentoCrise">
            <option *ngFor="let opcao of anm_momentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Momento Crises</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="lambedura">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Lambedura</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.lambedura === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqLambedura">
            <option *ngFor="let opcao of anm_frequencias" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência Lambedura</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.lambedura === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioLambedura">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Lambedura</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.lambedura === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="momentoLambedura">
            <option *ngFor="let opcao of anm_momentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Momento Lambedura</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="carrapatos">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Informa Visualização de Carrapatos</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="pulgas">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Informa Visualização de Pulgas</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="vermes">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Informa Visualização de Vermes</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="tipoAlimentacao">
            <option *ngFor="let opcao of anr_alimentos" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Alimentação Fornecida</label>
        </div>
        <div class="d-flex align-items-center justify-content-center" *ngIf="anamnese.value?.tipoAlimentacao === 'ração' || anamnese.value?.tipoAlimentacao === 'misto'">
          <mat-form-field class="example-full-width">
            <mat-label>Marca de Ração Ofertada </mat-label>
            <input matInput placeholder="Ex. Premier Ambientes Internos" formControlName="marcaRacao">
          </mat-form-field>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqAlimentar">
            <option *ngFor="let opcao of anr_frequencia_racao" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência de Oferta Alimentar</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.tipoAlimentacao === 'comida' || anamnese.value?.tipoAlimentacao === 'misto'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="motivoComida">
            <option *ngFor="let opcao of anr_motivo_comida" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Motivo de Oferta de Comida</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="aspectoFezes">
            <option *ngFor="let opcao of anr_fezes" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Aspecto das Fezes</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="freqDefeccao">
            <option *ngFor="let opcao of anr_frequencia_racao" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Frequência de Defecção</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="suplemento">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Oferta de Suplementos Alimentares</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.suplemento === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="motivoSuplemento">
            <option *ngFor="let opcao of ans_suplemetacao" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Motivo de Suplementação</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.suplemento === 'presente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="inicioSuplemento">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Início Suplementação</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="antirrabica">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Última Vacina Antirrábica</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="polivalente">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Última Vacina Polivalente</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="vermifugo">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Última Vermifugação</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="ectoparasiticida">
            <option *ngFor="let opcao of anm_inicios" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Último Ectoparasiticida</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="tipoEcto">
            <option *ngFor="let opcao of anp_ectoparasiticida" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Tipo de Ectoparasiticida Utilizado</label>
        </div>
        <div class="form-floating">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="castracao">
            <option *ngFor="let opcao of anm_booleana" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Castração</label>
        </div>
        <div class="form-floating" *ngIf="anamnese.value?.castracao === 'ausente'">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="motivoCastracao">
            <option *ngFor="let opcao of anp_motivo_recusa" [value]="opcao">{{opcao}}</option>
          </select>
          <label for="floatingSelect">Motivo de Não Realização de Castração</label>
        </div>
        <div class="mb-2" >
          <label for="exampleFormControlTextarea1" class="form-label" >Outras Informações</label>
          <h4>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" cols="50" style="font-size: large;" formControlName="outras"></textarea>
        </h4>
        </div>
      </div>
    </form>

    <div style="margin-top: 40px;">
      <h2>Exame Físico</h2>
    </div>
    <form class="sessao d-flex flex-column align-items-center justify-content-center" [formGroup]="exameFisico">
      <div class="mb-2" *ngFor="let exameFisico of examesFisicos | keyvalue" >
        <label for="exampleFormControlTextarea1" class="form-label" >{{exameFisico.value}}</label>
        <h4>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" cols="50" style="font-size: large;" [formControlName]="exameFisico.key">
        NDN</textarea>
      </h4>
      </div>
    </form>
    <form class="sessao d-flex flex-column align-items-center justify-content-center">
      <h2>Doenças Anteriores Diagnosticadas</h2>
      <div class="d-flex align-items-center justify-content-evenly">
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Doença</mat-label>
            <input matInput placeholder="Ex. Gastroenterite" [formControl]="dncAnteriores"
            [matAutocomplete]="auto">
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let doenca of filteredOptionsDncAnteriores | async" [value]="doenca.dnc_doenca">
                {{doenca.dnc_doenca}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </div>
      <div class="adiciona">
        <h3><i class="fa-solid fa-plus" (click)="addArray(doencasAnteriores, dncAnteriores);"></i></h3>
      </div>
      <div class="novo d-flex d-flex  flex-column justify-content-center align-items-center"></div>
        <div class="d-flex align-items-center justify-content-evenly" *ngFor="let doenca of doencasAnteriores; let i = index">
          <h5>{{doenca}}</h5>
          <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(doencasAnteriores, i);"></i></h3>
        </div>
    </form>
    <form class="sessao d-flex flex-column align-items-center justify-content-center">
      <h2>Suspeita Diagnóstica</h2>
      <div class="d-flex align-items-center justify-content-evenly">
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Doença</mat-label>
            <input matInput placeholder="Ex. Gastroenterite" [formControl]="diagnosticos"
            [matAutocomplete]="auto">
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let doenca of filteredOptionsDiag | async" [value]="doenca.dnc_doenca">
                {{doenca.dnc_doenca}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
      </div>
      <div class="adiciona">
        <h3><i class="fa-solid fa-plus" (click)="addArray(doencas, diagnosticos);"></i></h3>
      </div>
      <div class="novo d-flex d-flex  flex-column justify-content-center align-items-center"></div>
        <div class="d-flex align-items-center justify-content-evenly" *ngFor="let doenca of doencas; let i = index">
          <h5>{{doenca}}</h5>
          <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(doencas, i);"></i></h3>
        </div>
    </form>
    <h2>Aplicações</h2>
    <form class="sec d-flex align-items-center justify-content-center flex-wrap" [formGroup]="aplicacoes">
      <div class="sessao d-flex  flex-column align-items-center justify-content-evenly flex-wrap">
        <div>
          <mat-form-field class="example-full-width">
            <mat-label>Medicação</mat-label>
            <input matInput placeholder="Ex. Metronidazol" [formControl]="medicacoes"
            [matAutocomplete]="autoMed" formControlName="medicacao">
            <mat-autocomplete #autoMed="matAutocomplete">
              <mat-option *ngFor="let med of filteredOptionsMed | async" [value]="med.med_nome">
                {{med.med_nome}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div>
          <div class="form-floating mb-6">
            <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="apresentacao">
              <option *ngFor="let apresentacao of apresentacoes.sort()" [value]="apresentacao">{{apresentacao}}</option>
            </select>
            <label for="floatingSelect">Apresentação</label>
          </div>
          <div class="input-group mb-10">
            <input type="text" class="form-control" aria-label="Text input with dropdown button" placeholder="Concentração" formControlName="concentracao">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="apre">medida</button>
            <ul class="dropdown-menu dropdown-menu-end">
              <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="medidaC">
                <option *ngFor="let concentracao of concentracoes" [value]="concentracao">{{concentracao}}</option>
              </select>
            </ul>
          </div>
          <div class="input-group mb-10">
            <input type="text" class="form-control" aria-label="Text input with dropdown button" placeholder="Dose" formControlName="dose">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="apre">medida</button>
            <ul class="dropdown-menu dropdown-menu-end">
              <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="medidaD">
                <option (value)="aplicacoes.value.dose+'ml'">ml</option>
                <option (value)="aplicacoes.value.dose+'mg'">mg</option>
                <option (value)="aplicacoes.value.dose+'g'">g</option>
              </select>
            </ul>
          </div>
        </div>
        <div>
          <div class="form-floating mb-6">
            <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="via">
              <option *ngFor="let via of vias.sort()" [value]="via">{{via}}</option>
            </select>
            <label for="floatingSelect">Via de Administração</label>
          </div>
        </div>
        <div class="col d-flex justify-content-center">
          <h3><i class="fa-solid fa-plus" (click)="addAplic()"></i></h3>
        </div>
        <div class="row d-flex align-items-center justify-content-evenly flex-wrap" id="aplic" *ngFor="let aplicacao of apli; let i = index">
          <div class="col">
            <h6>{{aplicacao.medicacao}}</h6>
          </div>
          <div class="col">
            <h6>{{aplicacao.apresentacao}} {{aplicacao.concentracao}}{{aplicacao.medidaC}}</h6>
          </div>
          <div class="col">
            <h6>Dose {{aplicacao.dose}}{{aplicacao.medidaD}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(apli, i)"></i></h3>
          </div>
        </div>
      </div>
    </form>
    <h2>Procedimentos Realizados</h2>
    <form class="sessao d-flex align-items-center justify-content-center flex-wrap" [formGroup]="procedimentoAtd">
      <div class="row d-flex flex-column align-items-center justify-content-evenly flex-wrap">
        <div class="d-flex align-items-center justify-content-center">
          <div class=" form-floating mb-8">
            <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="procedimento">
              <option *ngFor="let procedimento of prc" [value]="procedimento.prc_procedimento">{{procedimento.prc_procedimento}}</option>
            </select>
            <label for="floatingSelect">Procedimento</label>
          </div>
        </div>
        <div class="col d-flex justify-content-center" style="max-width: 60%;">
          <h3><i class="fa-solid fa-plus" (click)="addArray(procs, procedimentoAtd);"></i></h3>
        </div>
        <div class="row d-flex align-items-center justify-content-center flex-wrap" id="ex" *ngFor="let prc of procs; let i = index">
          <div class="col">
            <h6>{{prc.procedimento}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center" (click)="removeArray(procs, i)">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);"></i></h3>
          </div>
        </div>
      </div>
    </form>
    <h2>Receituário</h2>
    <div class="sec d-flex align-items-center justify-content-center flex-wrap">
      <form class="sessao flex-column d-flex align-items-center justify-content-evenly flex-wrap" [formGroup]="receituario">
        <div>
          <mat-form-field class="example-full-width">
            <mat-label>Medicação</mat-label>
            <input matInput placeholder="Ex. Metronidazol" [formControl]="medicacoes"
            [matAutocomplete]="autoMed" formControlName="medicacao">
            <mat-autocomplete #autoMed="matAutocomplete" (optionSelected)="onMedicationSelected($event)">
              <mat-option *ngFor="let med of filteredOptionsMed | async" [value]="med.med_nome" >
                {{med.med_nome}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div>
          <div class=" form-floating mb-8">
            <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="apresentacao">
              <option *ngFor="let apresentacao of apresentacoes.sort()" [value]="apresentacao">{{apresentacao}}</option>
            </select>
            <label for="floatingSelect">Apresentação</label>
          </div>
          <div class="input-group mb-10">
            <input type="text" class="form-control" aria-label="Text input with dropdown button" placeholder="Dose" formControlName="dose">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="apre">medida</button>
            <ul class="dropdown-menu dropdown-menu-end">
              <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="medidaD">
                <option value="ml">ml</option>
                <option value="cp">cp</option>
                <option value="gota">gota</option>
                <option value="g">g</option>
                <option value="porção">porção</option>
                <option value="medida">medida</option>
                <option value="sachê">sachê</option>
                <option value="dose">dose</option>
              </select>
            </ul>
          </div>
          <div class=" input-group mb-6">
            <input type="text" class="form-control" aria-label="Text input with dropdown button" placeholder="Concentração" formControlName="concentracao">
            <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="apre">medida</button>
            <ul class="dropdown-menu dropdown-menu-end">
              <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="medidaC">
                <option *ngFor="let concentracao of concentracoes" [value]="concentracao">{{concentracao}}</option>
              </select>
            </ul>
          </div>
        </div>
        <div>
          <div class="form-floating mb-6">
            <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="via">
              <option *ngFor="let via of vias.sort()" [value]="via">{{via}}</option>
            </select>
            <label for="floatingSelect">Via de Administração</label>
          </div>
        </div>
        <div class=" form-floating mb-8">
          <select class="form-select" id="floatingSelect" aria-label="Floating label select example" formControlName="frequencia">
            <option *ngFor="let frequencia of frequencias | keyvalue" [value]="frequencia.key">{{frequencia.key}}</option>
          </select>
          <label for="floatingSelect">Frequência</label>
        </div>
        <mat-expansion-panel hideToggle>
          <mat-expansion-panel-header>
            <mat-panel-title>
              ?
            </mat-panel-title>
            <mat-panel-description>
              Sobre Frequências
            </mat-panel-description>
          </mat-expansion-panel-header>
          <p *ngFor="let frequencia of frequencias | keyvalue">{{frequencia.key}} - {{frequencia.value}}</p>
        </mat-expansion-panel>
        <div class=" input-group mb-10 d-flex justify-content-end">
          <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="duração" aria-label="Recipient's username" aria-describedby="basic-addon2" formControlName="duracao">
            <span class="input-group-text" id="basic-addon2">dias</span>
          </div>
        </div>
        <div class="mb-2" >
          <label for="exampleFormControlTextarea1" class="form-label" >Orientações</label>
          <h4>
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="5" cols="50" style="font-size: large;" formControlName="orientacao"></textarea>
        </h4>
        </div>
        <button class="btn btn-primary" type="button" (click)="addArrayDois(orientacoes, receituario.value?.orientacao)">Adicionar Orientação</button>
        <mat-radio-group aria-label="Select an option" formControlName="duracao">
          <mat-radio-button value="Uso contínuo">Uso contínuo</mat-radio-button>
        </mat-radio-group>
        <div class="col d-flex justify-content-center">
          <h3><i class="fa-solid fa-plus" (click)="addReceituario();"></i></h3>
        </div>
        <div class="row d-flex align-items-center justify-content-evenly flex-wrap" id="aplic" *ngFor="let receituario of rec; let i = index">
          <div class="col">
            <h6>{{receituario.medicacao}}</h6>
          </div>
          <div class="col">
            <h6>{{receituario.apresentacao}}  {{receituario.concentracao}}</h6>
          </div>
          <div class="col">
            <h6>{{receituario.frequencia}}</h6>
          </div>
          <div class="col">
            <h6>{{receituario.duracao}} </h6><h6 *ngIf="receituario.duaracao != 'Uso contínuo'"></h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(rec, i)"></i></h3>
          </div>
        </div>
        <div class="row d-flex align-items-center justify-content-evenly flex-wrap" id="aplic" *ngFor="let orientacao of orientacoes; let i = index">
          <div class="col">
            <h6>{{orientacao}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(orientacoes, i)"></i></h3>
          </div>
        </div>
      </form>
      <a href="/receita" target="_blank"><button class="btn btn-primary" type="button" style="margin-bottom: 10px;" (click)="mostraReceita()">Ver Receita</button></a>
    </div>
    <h2>Exames</h2>
    <form class="sessao d-flex align-items-center justify-content-center flex-wrap" [formGroup]="pExames">
      <div class="row d-flex align-items-center justify-content-center flex-wrap">
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Exame</mat-label>
            <input matInput placeholder="Ex. Hemograma" [formControl]="exames"
            [matAutocomplete]="autoExm" formControlName="exame">
            <mat-autocomplete #autoExm="matAutocomplete">
              <mat-option *ngFor="let exm of filteredOptionsExm | async" [value]="exm.exm_exame">
                {{exm.exm_exame}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Amostra</mat-label>
            <input matInput placeholder="Ex. Sangue Total" [formControl]="amostra"
            [matAutocomplete]="autoAmo">
            <mat-autocomplete #autoAmo="matAutocomplete">
              <mat-option *ngFor="let exm of filteredOptionsAmo | async" [value]="exm.exm_tipo_amostra">
                {{exm.exm_tipo_amostra}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div class="col-md-8">
          <div class="mb-2">
            <label for="exampleFormControlTextarea1" class="form-label" >Descrição p/ Citologia</label>
            <h4>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="9" cols="50" style="font-size: large;" formControlName="citologia">
            </textarea>
          </h4>
          </div>
        </div>
        <div class="d-flex flex-column align-items-center justify-content-center" >
          <mat-button-toggle-group name="fontStyle" aria-label="Font Style" (change)="onToggleChangeDois($event)" formControlName="urgencia">
            <mat-button-toggle value="N">Não Urgente</mat-button-toggle>
            <mat-button-toggle value="S">Urgente</mat-button-toggle>
          </mat-button-toggle-group>
        </div>
        <div class="row d-flex flex-column flex-wrap" style="max-width: 50%;" >
          <div class="col d-flex justify-content-center" style="background-color: rgb(109, 252, 204); border-radius: 10px;" (click)="addExame();">
            <h3><i class="fa-solid fa-plus"></i></h3>
          </div>
        </div>
        <div class="row d-flex align-items-center justify-content-center flex-wrap" id="ex" *ngFor="let exame of pexms; let i = index">
          <div class="col">
            <h6>{{exame.exame}}</h6>
          </div>
          <div class="col">
            <h6>{{exame.amostra}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(pexms, i)"></i></h3>
          </div>
        </div>
    </div>
    <h2>Encaminhamento Cirúrgico</h2>
    <form class="sessao d-flex align-items-center justify-content-center flex-wrap" [formGroup]="eCirurgias">
      <div class="row d-flex flex-column align-items-center justify-content-evenly flex-wrap">
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Cirurgia</mat-label>
            <input matInput placeholder="Ex. Hemograma" [formControl]="cirurgias"
            [matAutocomplete]="autoCir" formControlName="cirurgia">
            <mat-autocomplete #autoCir="matAutocomplete">
              <mat-option *ngFor="let cir of filteredOptionsCir | async" [value]="cir.cir_nome">
                {{cir.cir_nome}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div class="col d-flex justify-content-center" style="max-width: 60%;">
          <h3><i class="fa-solid fa-plus" (click)="addCirurgia();"></i></h3>
        </div>
        <div class="row d-flex align-items-center justify-content-center flex-wrap" id="ex" *ngFor="let cir of pcir; let i = index">
          <div class="col">
            <h6>{{cir.cirurgia}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center" (click)="removeArray(pcir, i)">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);"></i></h3>
          </div>
        </div>
      </div>
    </form>
    <h2 style="text-align: center;">Ecaminhamento para Especialista</h2>
    <form class="sessao d-flex align-items-center justify-content-center flex-wrap" [formGroup]="eEspecialistas">
      <div class="row d-flex flex-column align-items-center justify-content-evenly flex-wrap">
        <div class="d-flex align-items-center justify-content-center">
          <mat-form-field class="example-full-width">
            <mat-label>Especialista</mat-label>
            <input matInput placeholder="Ex. Hemograma" [formControl]="especialistas"
            [matAutocomplete]="autoEsp" formControlName="especialista">
            <mat-autocomplete #autoEsp="matAutocomplete">
              <mat-option *ngFor="let esp of filteredOptionsEsp | async" [value]="esp.esp_nome">
                {{esp.esp_nome}}
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </div>
        <div class="col d-flex justify-content-center" style="max-width: 60%;">
          <h3><i class="fa-solid fa-plus" (click)="addEncaminhamento();"></i></h3>
        </div>
        <div class="row d-flex align-items-center justify-content-center flex-wrap" id="ex" *ngFor="let esp of pesp; let i = index ">
          <div class="col">
            <h6>{{esp.especialista}}</h6>
          </div>
          <div class="col d-flex justify-content-center align-items-center">
            <h3><i class="fa-regular fa-rectangle-xmark" style="color: rgb(112, 18, 18);" (click)="removeArray(pesp, i)"></i></h3>
          </div>
        </div>
      </div>
    </form>
  </form>
  <div>
    <button class="btn btn-primary" type="button" (click)="verDados();" id="registra">Registrar Informações</button>
  </div>
  <div class="ok d-flex justify-content-center align-items-center" *ngIf="resolve !== ''">
    <h5>{{ resolve }}</h5>
  </div>



  <div class="restrito d-flex justify-content-center align-items-center">

  </div>
</div>
